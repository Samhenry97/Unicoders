{% extends 'base.html' %}

{% block title %} {{block.super}} - Accounts {% endblock %}

{% block content %}

<div class='row'>
  <div class='col-sm-12 col-md-6'>
    <input value='{% if search %}{{search}}{% endif %}' id='search' type='text' placeholder='Search Account Name or Number' onkeypress='handlesearch(event)'/>
  </div>
  <div class='col-sm-12 col-md-6'>
    <a href='{% url 'account_new' %}' class='btn btn-primary float-right no-margin'><i class='fas fa-plus'></i> Add New Account</a>
  </div>
  <div class='col-sm-12'><hr/></div>
</div>

<div class='row'>
  <div class='col-sm-12'>
    <table class='table table-striped table-bordered table-hover'>
      <thead class='thead-dark'>
        <tr>
          <th scope='col'>Name</th>
          <th scope='col'>Address</th>
          <th scope='col'>Account Number</th>
          <th scope='col'>Routing Number</th>
          <th scope='col'>Date Created</th>
          <th scope='col'>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for account in accounts %}
          <tr>
            <td>{{ account.name }}</td>
            <td>{{ account.address }}</td>
            <td>{{ account.number }}</td>
            <td>{{ account.route }}</td>
            <td>{{ account.date }}</td>
            <td>
              <ul class='actions'>
                <li><a href='{% url 'account_edit' account.id %}' data-toggle='tooltip' title='Edit Account'>
                  <i class='fas fa-cog'></i>
                </a></li>  
                <li><a href='{% url 'account_check_new' account.id %}' data-toggle='tooltip' title='Add Check'>
                  <i class='fas fa-plus-square'></i>
                </a></li>
                <li><a href='{% url 'account_check_index' account.id %}' data-toggle='tooltip' title='View Checks'>
                  <i class='fas fa-folder'></i>
                </a></li>
                <li><a href='{% url 'account_delete' account.id %}' data-toggle='tooltip' title='Delete Account'>
                  <i class='fas fa-trash'></i>
                </a></li>
              </ul>
            </td>
          </tr>
        {% empty %}
          <tr>
            {% if search %}
              <td colspan='6'>Your search "{{search}}" did not match any accounts.</td>
            {% else %}
              <td colspan='6'>No accounts found.</td>
            {% endif %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
    {% include 'snippets/pagination.html' with objects=accounts %}
  </div>
</div>

{% endblock %}